[
	{
		"description": "track ids",
		"it": "should not include anything without the flag",
		"template": "{{wycats is.a slave.driver}}",
		"data": {},
		"helpers": {
			"wycats": {
				"!code": true,
				"javascript": "function (passiveVoice, noun, options) {\n        equal(options.ids, undefined);\n        equal(options.hashIds, undefined);\n\n        return 'success';\n      }",
				"phpstub": "function (passiveVoice, noun, options) {\n        equal(options.ids, undefined);\n        equal(options.hashIds, undefined);\n\n        return 'success';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should not include anything without the flag",
		"template": "{{wycats is.a slave.driver}}",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should not include anything without the flag",
		"template": "{{wycats is.a slave.driver}}",
		"expected": "success",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should include argument ids",
		"template": "{{wycats is.a slave.driver}}",
		"data": {
			"is": {
				"a": "foo"
			},
			"slave": {
				"driver": "bar"
			}
		},
		"expected": "is.a",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"wycats": {
				"!code": true,
				"javascript": "function (passiveVoice, noun, options) {\n        equal(options.ids[0], 'is.a');\n        equal(options.ids[1], 'slave.driver');\n\n        return 'HELP ME MY BOSS ' + options.ids[0] + ':' + passiveVoice + ' ' + options.ids[1] + ':' + noun;\n      }",
				"phpstub": "function (passiveVoice, noun, options) {\n        equal(options.ids[0], 'is.a');\n        equal(options.ids[1], 'slave.driver');\n\n        return 'HELP ME MY BOSS ' + options.ids[0] + ':' + passiveVoice + ' ' + options.ids[1] + ':' + noun;\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"is.a"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"slave.driver"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should include argument ids",
		"template": "{{wycats is.a slave.driver}}",
		"expected": "slave.driver",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should include argument ids",
		"template": "{{wycats is.a slave.driver}}",
		"expected": "HELP ME MY BOSS is.a:foo slave.driver:bar",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 14
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should include hash ids",
		"template": "{{wycats bat=is.a baz=slave.driver}}",
		"data": {
			"is": {
				"a": "foo"
			},
			"slave": {
				"driver": "bar"
			}
		},
		"expected": "is.a",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"wycats": {
				"!code": true,
				"javascript": "function (options) {\n        equal(options.hashIds.bat, 'is.a');\n        equal(options.hashIds.baz, 'slave.driver');\n\n        return 'HELP ME MY BOSS ' + options.hashIds.bat + ':' + options.hash.bat + ' ' + options.hashIds.baz + ':' + options.hash.baz;\n      }",
				"phpstub": "function (options) {\n        equal(options.hashIds.bat, 'is.a');\n        equal(options.hashIds.baz, 'slave.driver');\n\n        return 'HELP ME MY BOSS ' + options.hashIds.bat + ':' + options.hash.bat + ' ' + options.hashIds.baz + ':' + options.hash.baz;\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [],
					"hash": {
						"type": "Hash",
						"pairs": [
							{
								"type": "HashPair",
								"key": "bat",
								"value": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"is",
										"a"
									],
									"original": "is.a",
									"loc": {
										"start": {
											"line": 1,
											"column": 13
										},
										"end": {
											"line": 1,
											"column": 17
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 9
									},
									"end": {
										"line": 1,
										"column": 17
									}
								}
							},
							{
								"type": "HashPair",
								"key": "baz",
								"value": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"slave",
										"driver"
									],
									"original": "slave.driver",
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 34
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 18
									},
									"end": {
										"line": 1,
										"column": 34
									}
								}
							}
						],
						"loc": {
							"start": {
								"line": 1,
								"column": 9
							},
							"end": {
								"line": 1,
								"column": 34
							}
						}
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 36
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"is.a"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 13
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 13
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"slave.driver"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"baz"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"bat"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				}
			],
			"children": [],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should include hash ids",
		"template": "{{wycats bat=is.a baz=slave.driver}}",
		"expected": "slave.driver",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [],
					"hash": {
						"type": "Hash",
						"pairs": [
							{
								"type": "HashPair",
								"key": "bat",
								"value": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"is",
										"a"
									],
									"original": "is.a",
									"loc": {
										"start": {
											"line": 1,
											"column": 13
										},
										"end": {
											"line": 1,
											"column": 17
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 9
									},
									"end": {
										"line": 1,
										"column": 17
									}
								}
							},
							{
								"type": "HashPair",
								"key": "baz",
								"value": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"slave",
										"driver"
									],
									"original": "slave.driver",
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 34
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 18
									},
									"end": {
										"line": 1,
										"column": 34
									}
								}
							}
						],
						"loc": {
							"start": {
								"line": 1,
								"column": 9
							},
							"end": {
								"line": 1,
								"column": 34
							}
						}
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 36
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 13
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 13
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"baz"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"bat"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should include hash ids",
		"template": "{{wycats bat=is.a baz=slave.driver}}",
		"expected": "HELP ME MY BOSS is.a:foo slave.driver:bar",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [],
					"hash": {
						"type": "Hash",
						"pairs": [
							{
								"type": "HashPair",
								"key": "bat",
								"value": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"is",
										"a"
									],
									"original": "is.a",
									"loc": {
										"start": {
											"line": 1,
											"column": 13
										},
										"end": {
											"line": 1,
											"column": 17
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 9
									},
									"end": {
										"line": 1,
										"column": 17
									}
								}
							},
							{
								"type": "HashPair",
								"key": "baz",
								"value": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"slave",
										"driver"
									],
									"original": "slave.driver",
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 34
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 18
									},
									"end": {
										"line": 1,
										"column": 34
									}
								}
							}
						],
						"loc": {
							"start": {
								"line": 1,
								"column": 9
							},
							"end": {
								"line": 1,
								"column": 34
							}
						}
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 36
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 13
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 13
						},
						"end": {
							"line": 1,
							"column": 17
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 22
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"baz"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"bat"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 34
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 36
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should note ../ and ./ references",
		"template": "{{wycats ./is.a ../slave.driver this.is.a this}}",
		"data": {
			"is": {
				"a": "foo"
			},
			"slave": {
				"driver": "bar"
			}
		},
		"expected": "is.a",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"wycats": {
				"!code": true,
				"javascript": "function (passiveVoice, noun, thiz, thiz2, options) {\n        equal(options.ids[0], 'is.a');\n        equal(options.ids[1], '../slave.driver');\n        equal(options.ids[2], 'is.a');\n        equal(options.ids[3], '');\n\n        return 'HELP ME MY BOSS ' + options.ids[0] + ':' + passiveVoice + ' ' + options.ids[1] + ':' + noun;\n      }",
				"phpstub": "function (passiveVoice, noun, thiz, thiz2, options) {\n        equal(options.ids[0], 'is.a');\n        equal(options.ids[1], '../slave.driver');\n        equal(options.ids[2], 'is.a');\n        equal(options.ids[3], '');\n\n        return 'HELP ME MY BOSS ' + options.ids[0] + ':' + passiveVoice + ' ' + options.ids[1] + ':' + noun;\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "./is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 15
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 1,
							"parts": [
								"slave",
								"driver"
							],
							"original": "../slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "this.is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 32
								},
								"end": {
									"line": 1,
									"column": 41
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [],
							"original": "this",
							"loc": {
								"start": {
									"line": 1,
									"column": 42
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 48
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"is.a"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"../slave.driver"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"is.a"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						""
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushContext",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						4,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"children": [],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should note ../ and ./ references",
		"template": "{{wycats ./is.a ../slave.driver this.is.a this}}",
		"expected": "../slave.driver",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "./is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 15
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 1,
							"parts": [
								"slave",
								"driver"
							],
							"original": "../slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "this.is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 32
								},
								"end": {
									"line": 1,
									"column": 41
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [],
							"original": "this",
							"loc": {
								"start": {
									"line": 1,
									"column": 42
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 48
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushContext",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						4,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should note ../ and ./ references",
		"template": "{{wycats ./is.a ../slave.driver this.is.a this}}",
		"expected": "is.a",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "./is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 15
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 1,
							"parts": [
								"slave",
								"driver"
							],
							"original": "../slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "this.is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 32
								},
								"end": {
									"line": 1,
									"column": 41
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [],
							"original": "this",
							"loc": {
								"start": {
									"line": 1,
									"column": 42
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 48
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushContext",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						4,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should note ../ and ./ references",
		"template": "{{wycats ./is.a ../slave.driver this.is.a this}}",
		"expected": "",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "./is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 15
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 1,
							"parts": [
								"slave",
								"driver"
							],
							"original": "../slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "this.is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 32
								},
								"end": {
									"line": 1,
									"column": 41
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [],
							"original": "this",
							"loc": {
								"start": {
									"line": 1,
									"column": 42
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 48
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushContext",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						4,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should note ../ and ./ references",
		"template": "{{wycats ./is.a ../slave.driver this.is.a this}}",
		"expected": "HELP ME MY BOSS is.a:foo ../slave.driver:undefined",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "./is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 15
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 1,
							"parts": [
								"slave",
								"driver"
							],
							"original": "../slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "this.is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 32
								},
								"end": {
									"line": 1,
									"column": 41
								}
							}
						},
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [],
							"original": "this",
							"loc": {
								"start": {
									"line": 1,
									"column": 42
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 48
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"slave",
							"driver"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 16
						},
						"end": {
							"line": 1,
							"column": 31
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"is",
							"a"
						],
						null,
						null,
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 32
						},
						"end": {
							"line": 1,
							"column": 41
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushContext",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 42
						},
						"end": {
							"line": 1,
							"column": 46
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						4,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 48
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"useDepths": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should note @data references",
		"template": "{{wycats @is.a @slave.driver}}",
		"data": {},
		"expected": "@is.a",
		"options": {
			"data": {
				"is": {
					"a": "foo"
				},
				"slave": {
					"driver": "bar"
				}
			}
		},
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"wycats": {
				"!code": true,
				"javascript": "function (passiveVoice, noun, options) {\n        equal(options.ids[0], '@is.a');\n        equal(options.ids[1], '@slave.driver');\n\n        return 'HELP ME MY BOSS ' + options.ids[0] + ':' + passiveVoice + ' ' + options.ids[1] + ':' + noun;\n      }",
				"phpstub": "function (passiveVoice, noun, options) {\n        equal(options.ids[0], '@is.a');\n        equal(options.ids[1], '@slave.driver');\n\n        return 'HELP ME MY BOSS ' + options.ids[0] + ':' + passiveVoice + ' ' + options.ids[1] + ':' + noun;\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": true,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "@is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 14
								}
							}
						},
						{
							"type": "PathExpression",
							"data": true,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "@slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 30
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"@is.a"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupData",
					"args": [
						0,
						[
							"is",
							"a"
						],
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"@slave.driver"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "lookupData",
					"args": [
						0,
						[
							"slave",
							"driver"
						],
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				}
			],
			"children": [],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should note @data references",
		"template": "{{wycats @is.a @slave.driver}}",
		"expected": "@slave.driver",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": true,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "@is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 14
								}
							}
						},
						{
							"type": "PathExpression",
							"data": true,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "@slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 30
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupData",
					"args": [
						0,
						[
							"is",
							"a"
						],
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "lookupData",
					"args": [
						0,
						[
							"slave",
							"driver"
						],
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should note @data references",
		"template": "{{wycats @is.a @slave.driver}}",
		"expected": "HELP ME MY BOSS @is.a:foo @slave.driver:bar",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": true,
							"depth": 0,
							"parts": [
								"is",
								"a"
							],
							"original": "@is.a",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 14
								}
							}
						},
						{
							"type": "PathExpression",
							"data": true,
							"depth": 0,
							"parts": [
								"slave",
								"driver"
							],
							"original": "@slave.driver",
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 30
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupData",
					"args": [
						0,
						[
							"is",
							"a"
						],
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "lookupData",
					"args": [
						0,
						[
							"slave",
							"driver"
						],
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 15
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 30
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should return null for constants",
		"template": "{{wycats 1 \"foo\" key=false}}",
		"data": {
			"is": {
				"a": "foo"
			},
			"slave": {
				"driver": "bar"
			}
		},
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"wycats": {
				"!code": true,
				"javascript": "function (passiveVoice, noun, options) {\n        equal(options.ids[0], null);\n        equal(options.ids[1], null);\n        equal(options.hashIds.key, null);\n\n        return 'HELP ME MY BOSS ' + passiveVoice + ' ' + noun + ' ' + options.hash.key;\n      }",
				"phpstub": "function (passiveVoice, noun, options) {\n        equal(options.ids[0], null);\n        equal(options.ids[1], null);\n        equal(options.hashIds.key, null);\n\n        return 'HELP ME MY BOSS ' + passiveVoice + ' ' + noun + ' ' + options.hash.key;\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "NumberLiteral",
							"value": 1,
							"original": 1,
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 10
								}
							}
						},
						{
							"type": "StringLiteral",
							"value": "foo",
							"original": "foo",
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 16
								}
							}
						}
					],
					"hash": {
						"type": "Hash",
						"pairs": [
							{
								"type": "HashPair",
								"key": "key",
								"value": {
									"type": "BooleanLiteral",
									"value": false,
									"original": false,
									"loc": {
										"start": {
											"line": 1,
											"column": 21
										},
										"end": {
											"line": 1,
											"column": 26
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 26
									}
								}
							}
						],
						"loc": {
							"start": {
								"line": 1,
								"column": 17
							},
							"end": {
								"line": 1,
								"column": 26
							}
						}
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"NumberLiteral",
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"StringLiteral",
						"foo"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"foo"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushId",
					"args": [
						"BooleanLiteral",
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 21
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"key"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should return null for constants",
		"template": "{{wycats 1 \"foo\" key=false}}",
		"expected": null,
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "NumberLiteral",
							"value": 1,
							"original": 1,
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 10
								}
							}
						},
						{
							"type": "StringLiteral",
							"value": "foo",
							"original": "foo",
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 16
								}
							}
						}
					],
					"hash": {
						"type": "Hash",
						"pairs": [
							{
								"type": "HashPair",
								"key": "key",
								"value": {
									"type": "BooleanLiteral",
									"value": false,
									"original": false,
									"loc": {
										"start": {
											"line": 1,
											"column": 21
										},
										"end": {
											"line": 1,
											"column": 26
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 26
									}
								}
							}
						],
						"loc": {
							"start": {
								"line": 1,
								"column": 17
							},
							"end": {
								"line": 1,
								"column": 26
							}
						}
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"foo"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 21
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"key"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should return null for constants",
		"template": "{{wycats 1 \"foo\" key=false}}",
		"expected": null,
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "NumberLiteral",
							"value": 1,
							"original": 1,
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 10
								}
							}
						},
						{
							"type": "StringLiteral",
							"value": "foo",
							"original": "foo",
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 16
								}
							}
						}
					],
					"hash": {
						"type": "Hash",
						"pairs": [
							{
								"type": "HashPair",
								"key": "key",
								"value": {
									"type": "BooleanLiteral",
									"value": false,
									"original": false,
									"loc": {
										"start": {
											"line": 1,
											"column": 21
										},
										"end": {
											"line": 1,
											"column": 26
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 26
									}
								}
							}
						],
						"loc": {
							"start": {
								"line": 1,
								"column": 17
							},
							"end": {
								"line": 1,
								"column": 26
							}
						}
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"foo"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 21
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"key"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should return null for constants",
		"template": "{{wycats 1 \"foo\" key=false}}",
		"expected": "HELP ME MY BOSS 1 foo false",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "NumberLiteral",
							"value": 1,
							"original": 1,
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 10
								}
							}
						},
						{
							"type": "StringLiteral",
							"value": "foo",
							"original": "foo",
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 16
								}
							}
						}
					],
					"hash": {
						"type": "Hash",
						"pairs": [
							{
								"type": "HashPair",
								"key": "key",
								"value": {
									"type": "BooleanLiteral",
									"value": false,
									"original": false,
									"loc": {
										"start": {
											"line": 1,
											"column": 21
										},
										"end": {
											"line": 1,
											"column": 26
										}
									}
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 26
									}
								}
							}
						],
						"loc": {
							"start": {
								"line": 1,
								"column": 17
							},
							"end": {
								"line": 1,
								"column": 26
							}
						}
					},
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 28
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushLiteral",
					"args": [
						1
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 10
						}
					}
				},
				{
					"opcode": "pushString",
					"args": [
						"foo"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 11
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "pushHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "pushLiteral",
					"args": [
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 21
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "assignToHash",
					"args": [
						"key"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "popHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 17
						},
						"end": {
							"line": 1,
							"column": 26
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						2,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 28
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should return true for subexpressions",
		"template": "{{wycats (sub)}}",
		"data": {
			"is": {
				"a": "foo"
			},
			"slave": {
				"driver": "bar"
			}
		},
		"expected": true,
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"sub": {
				"!code": true,
				"javascript": "function () { return 1; }",
				"phpstub": "function () { return 1; }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (passiveVoice, options) {\n        equal(options.ids[0], true);\n\n        return 'HELP ME MY BOSS ' + passiveVoice;\n      }",
				"phpstub": "function (passiveVoice, options) {\n        equal(options.ids[0], true);\n\n        return 'HELP ME MY BOSS ' + passiveVoice;\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "SubExpression",
							"path": {
								"type": "PathExpression",
								"data": false,
								"depth": 0,
								"parts": [
									"sub"
								],
								"original": "sub",
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 13
									}
								}
							},
							"params": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 14
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 16
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"SubExpression",
						""
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"sub"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"sub",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				}
			],
			"children": [],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should return true for subexpressions",
		"template": "{{wycats (sub)}}",
		"expected": "HELP ME MY BOSS 1",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "SubExpression",
							"path": {
								"type": "PathExpression",
								"data": false,
								"depth": 0,
								"parts": [
									"sub"
								],
								"original": "sub",
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 13
									}
								}
							},
							"params": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 14
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 16
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"sub"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 10
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						0,
						"sub",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 16
						}
					}
				}
			],
			"children": [],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should use block param paths",
		"template": "{{#doIt as |is|}}{{wycats is.a slave.driver is}}{{/doIt}}",
		"data": {
			"is": {
				"a": "foo"
			},
			"slave": {
				"driver": "bar"
			}
		},
		"expected": "zomg.a",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"doIt": {
				"!code": true,
				"javascript": "function (options) {\n        var blockParams = [this.is];\n        blockParams.path = ['zomg'];\n        return options.fn(this, {blockParams: blockParams});\n      }",
				"phpstub": "function (options) {\n        var blockParams = [this.is];\n        blockParams.path = ['zomg'];\n        return options.fn(this, {blockParams: blockParams});\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (passiveVoice, noun, blah, options) {\n        equal(options.ids[0], 'zomg.a');\n        equal(options.ids[1], 'slave.driver');\n        equal(options.ids[2], 'zomg');\n\n        return 'HELP ME MY BOSS ' + options.ids[0] + ':' + passiveVoice + ' ' + options.ids[1] + ':' + noun;\n      }",
				"phpstub": "function (passiveVoice, noun, blah, options) {\n        equal(options.ids[0], 'zomg.a');\n        equal(options.ids[1], 'slave.driver');\n        equal(options.ids[2], 'zomg');\n\n        return 'HELP ME MY BOSS ' + options.ids[0] + ':' + passiveVoice + ' ' + options.ids[1] + ':' + noun;\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"doIt"
						],
						"original": "doIt",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 19
										},
										"end": {
											"line": 1,
											"column": 25
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"is",
											"a"
										],
										"original": "is.a",
										"loc": {
											"start": {
												"line": 1,
												"column": 26
											},
											"end": {
												"line": 1,
												"column": 30
											}
										}
									},
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"slave",
											"driver"
										],
										"original": "slave.driver",
										"loc": {
											"start": {
												"line": 1,
												"column": 31
											},
											"end": {
												"line": 1,
												"column": 43
											}
										}
									},
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"is"
										],
										"original": "is",
										"loc": {
											"start": {
												"line": 1,
												"column": 44
											},
											"end": {
												"line": 1,
												"column": 46
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 48
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 17
							},
							"end": {
								"line": 1,
								"column": 48
							}
						},
						"blockParams": [
							"is"
						]
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 57
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"doIt"
						],
						null,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"doIt",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"BlockParam",
								[
									0,
									0
								],
								"a"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"is",
									"a"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								"slave.driver"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"slave",
									"driver"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "pushId",
							"args": [
								"BlockParam",
								[
									0,
									0
								],
								""
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 44
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"is"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 44
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								3,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						}
					],
					"children": [],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should use block param paths",
		"template": "{{#doIt as |is|}}{{wycats is.a slave.driver is}}{{/doIt}}",
		"expected": "slave.driver",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"doIt"
						],
						"original": "doIt",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 19
										},
										"end": {
											"line": 1,
											"column": 25
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"is",
											"a"
										],
										"original": "is.a",
										"loc": {
											"start": {
												"line": 1,
												"column": 26
											},
											"end": {
												"line": 1,
												"column": 30
											}
										}
									},
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"slave",
											"driver"
										],
										"original": "slave.driver",
										"loc": {
											"start": {
												"line": 1,
												"column": 31
											},
											"end": {
												"line": 1,
												"column": 43
											}
										}
									},
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"is"
										],
										"original": "is",
										"loc": {
											"start": {
												"line": 1,
												"column": 44
											},
											"end": {
												"line": 1,
												"column": 46
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 48
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 17
							},
							"end": {
								"line": 1,
								"column": 48
							}
						},
						"blockParams": [
							"is"
						]
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 57
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"doIt"
						],
						null,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"doIt",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"is",
									"a"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"slave",
									"driver"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 44
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"is"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 44
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								3,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should use block param paths",
		"template": "{{#doIt as |is|}}{{wycats is.a slave.driver is}}{{/doIt}}",
		"expected": "zomg",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"doIt"
						],
						"original": "doIt",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 19
										},
										"end": {
											"line": 1,
											"column": 25
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"is",
											"a"
										],
										"original": "is.a",
										"loc": {
											"start": {
												"line": 1,
												"column": 26
											},
											"end": {
												"line": 1,
												"column": 30
											}
										}
									},
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"slave",
											"driver"
										],
										"original": "slave.driver",
										"loc": {
											"start": {
												"line": 1,
												"column": 31
											},
											"end": {
												"line": 1,
												"column": 43
											}
										}
									},
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"is"
										],
										"original": "is",
										"loc": {
											"start": {
												"line": 1,
												"column": 44
											},
											"end": {
												"line": 1,
												"column": 46
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 48
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 17
							},
							"end": {
								"line": 1,
								"column": 48
							}
						},
						"blockParams": [
							"is"
						]
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 57
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"doIt"
						],
						null,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"doIt",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"is",
									"a"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"slave",
									"driver"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 44
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"is"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 44
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								3,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "track ids",
		"it": "should use block param paths",
		"template": "{{#doIt as |is|}}{{wycats is.a slave.driver is}}{{/doIt}}",
		"expected": "HELP ME MY BOSS zomg.a:foo slave.driver:bar",
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"doIt"
						],
						"original": "doIt",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 19
										},
										"end": {
											"line": 1,
											"column": 25
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"is",
											"a"
										],
										"original": "is.a",
										"loc": {
											"start": {
												"line": 1,
												"column": 26
											},
											"end": {
												"line": 1,
												"column": 30
											}
										}
									},
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"slave",
											"driver"
										],
										"original": "slave.driver",
										"loc": {
											"start": {
												"line": 1,
												"column": 31
											},
											"end": {
												"line": 1,
												"column": 43
											}
										}
									},
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"is"
										],
										"original": "is",
										"loc": {
											"start": {
												"line": 1,
												"column": 44
											},
											"end": {
												"line": 1,
												"column": 46
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 17
									},
									"end": {
										"line": 1,
										"column": 48
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 17
							},
							"end": {
								"line": 1,
								"column": 48
							}
						},
						"blockParams": [
							"is"
						]
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 57
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"doIt"
						],
						null,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 7
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"doIt",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 57
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"is",
									"a"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"slave",
									"driver"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 31
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 44
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"is"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 44
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								3,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 48
								}
							}
						}
					],
					"children": [],
					"options": {
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#each",
		"it": "should track contextPath for arrays",
		"template": "{{#each array}}{{wycats name}}{{/each}}",
		"data": {
			"array": [
				{
					"name": "foo"
				},
				{
					"name": "bar"
				}
			]
		},
		"expected": "foo:array.0\nbar:array.1\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"each"
						],
						"original": "each",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"array"
							],
							"original": "array",
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						}
					],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 17
										},
										"end": {
											"line": 1,
											"column": 23
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"name"
										],
										"original": "name",
										"loc": {
											"start": {
												"line": 1,
												"column": 24
											},
											"end": {
												"line": 1,
												"column": 28
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 15
									},
									"end": {
										"line": 1,
										"column": 30
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 15
							},
							"end": {
								"line": 1,
								"column": 30
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 39
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"array"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"array"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"each"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								"name"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						}
					],
					"children": [],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#each",
		"it": "should track contextPath for keys",
		"template": "{{#each object}}{{wycats name}}{{/each}}",
		"data": {
			"object": {
				"foo": {
					"name": "foo"
				},
				"bar": {
					"name": "bar"
				}
			}
		},
		"expected": "foo:object.foo\nbar:object.bar\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"each"
						],
						"original": "each",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"object"
							],
							"original": "object",
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 14
								}
							}
						}
					],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 24
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"name"
										],
										"original": "name",
										"loc": {
											"start": {
												"line": 1,
												"column": 25
											},
											"end": {
												"line": 1,
												"column": 29
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 16
									},
									"end": {
										"line": 1,
										"column": 31
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 16
							},
							"end": {
								"line": 1,
								"column": 31
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 40
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"object"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"object"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 14
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"each"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 40
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								"name"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 25
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 25
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 18
								},
								"end": {
									"line": 1,
									"column": 24
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 31
								}
							}
						}
					],
					"children": [],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#each",
		"it": "should handle nesting",
		"template": "{{#each .}}{{#each .}}{{wycats name}}{{/each}}{{/each}}",
		"data": {
			"array": [
				{
					"name": "foo"
				},
				{
					"name": "bar"
				}
			]
		},
		"expected": "foo:.array..0\nbar:.array..1\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"each"
						],
						"original": "each",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [],
							"original": ".",
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 9
								}
							}
						}
					],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "BlockStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"each"
									],
									"original": "each",
									"loc": {
										"start": {
											"line": 1,
											"column": 14
										},
										"end": {
											"line": 1,
											"column": 18
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [],
										"original": ".",
										"loc": {
											"start": {
												"line": 1,
												"column": 19
											},
											"end": {
												"line": 1,
												"column": 20
											}
										}
									}
								],
								"program": {
									"type": "Program",
									"body": [
										{
											"type": "MustacheStatement",
											"path": {
												"type": "PathExpression",
												"data": false,
												"depth": 0,
												"parts": [
													"wycats"
												],
												"original": "wycats",
												"loc": {
													"start": {
														"line": 1,
														"column": 24
													},
													"end": {
														"line": 1,
														"column": 30
													}
												}
											},
											"params": [
												{
													"type": "PathExpression",
													"data": false,
													"depth": 0,
													"parts": [
														"name"
													],
													"original": "name",
													"loc": {
														"start": {
															"line": 1,
															"column": 31
														},
														"end": {
															"line": 1,
															"column": 35
														}
													}
												}
											],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											},
											"loc": {
												"start": {
													"line": 1,
													"column": 22
												},
												"end": {
													"line": 1,
													"column": 37
												}
											}
										}
									],
									"strip": {},
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 37
										}
									}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 11
									},
									"end": {
										"line": 1,
										"column": 46
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 11
							},
							"end": {
								"line": 1,
								"column": 46
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 55
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						""
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushContext",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 9
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"each"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 55
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								""
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "pushContext",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 20
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "invokeKnownHelper",
							"args": [
								1,
								"each"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 46
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "pushId",
									"args": [
										"PathExpression",
										"name"
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 37
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 31
										},
										"end": {
											"line": 1,
											"column": 35
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"name"
										],
										null,
										null,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 31
										},
										"end": {
											"line": 1,
											"column": 35
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 37
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 37
										}
									}
								},
								{
									"opcode": "emptyHash",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 37
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 24
										},
										"end": {
											"line": 1,
											"column": 30
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"wycats"
										],
										true,
										true,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 24
										},
										"end": {
											"line": 1,
											"column": 30
										}
									}
								},
								{
									"opcode": "invokeHelper",
									"args": [
										1,
										"wycats",
										true
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 37
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 22
										},
										"end": {
											"line": 1,
											"column": 37
										}
									}
								}
							],
							"children": [],
							"options": {
								"trackIds": true,
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"trackIds": true,
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"guid": 1,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#each",
		"it": "should handle block params",
		"template": "{{#each array as |value|}}{{blockParams value.name}}{{/each}}",
		"data": {
			"array": [
				{
					"name": "foo"
				},
				{
					"name": "bar"
				}
			]
		},
		"expected": "foo:array.0.name\nbar:array.1.name\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"each"
						],
						"original": "each",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"array"
							],
							"original": "array",
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						}
					],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"blockParams"
									],
									"original": "blockParams",
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 39
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"value",
											"name"
										],
										"original": "value.name",
										"loc": {
											"start": {
												"line": 1,
												"column": 40
											},
											"end": {
												"line": 1,
												"column": 50
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 26
									},
									"end": {
										"line": 1,
										"column": 52
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 26
							},
							"end": {
								"line": 1,
								"column": 52
							}
						},
						"blockParams": [
							"value"
						]
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 61
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"array"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"array"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"each"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"BlockParam",
								[
									0,
									0
								],
								"name"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 40
								},
								"end": {
									"line": 1,
									"column": 50
								}
							}
						},
						{
							"opcode": "lookupBlockParam",
							"args": [
								[
									0,
									0
								],
								[
									"value",
									"name"
								]
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 40
								},
								"end": {
									"line": 1,
									"column": 50
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 28
								},
								"end": {
									"line": 1,
									"column": 39
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"blockParams"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 28
								},
								"end": {
									"line": 1,
									"column": 39
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"blockParams",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 26
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						}
					],
					"children": [],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"isSimple": true,
					"blockParams": 1
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#with",
		"it": "should track contextPath",
		"template": "{{#with field}}{{wycats name}}{{/with}}",
		"data": {
			"field": {
				"name": "foo"
			}
		},
		"expected": "foo:field\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"with"
						],
						"original": "with",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"field"
							],
							"original": "field",
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						}
					],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 17
										},
										"end": {
											"line": 1,
											"column": 23
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"name"
										],
										"original": "name",
										"loc": {
											"start": {
												"line": 1,
												"column": 24
											},
											"end": {
												"line": 1,
												"column": 28
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 15
									},
									"end": {
										"line": 1,
										"column": 30
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 15
							},
							"end": {
								"line": 1,
								"column": 30
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 39
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"field"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"field"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"with"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 39
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								"name"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 24
								},
								"end": {
									"line": 1,
									"column": 28
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 17
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 15
								},
								"end": {
									"line": 1,
									"column": 30
								}
							}
						}
					],
					"children": [],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#with",
		"it": "should handle nesting",
		"template": "{{#with bat}}{{#with field}}{{wycats name}}{{/with}}{{/with}}",
		"data": {
			"bat": {
				"field": {
					"name": "foo"
				}
			}
		},
		"expected": "foo:bat.field\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"with"
						],
						"original": "with",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"bat"
							],
							"original": "bat",
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 11
								}
							}
						}
					],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "BlockStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"with"
									],
									"original": "with",
									"loc": {
										"start": {
											"line": 1,
											"column": 16
										},
										"end": {
											"line": 1,
											"column": 20
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"field"
										],
										"original": "field",
										"loc": {
											"start": {
												"line": 1,
												"column": 21
											},
											"end": {
												"line": 1,
												"column": 26
											}
										}
									}
								],
								"program": {
									"type": "Program",
									"body": [
										{
											"type": "MustacheStatement",
											"path": {
												"type": "PathExpression",
												"data": false,
												"depth": 0,
												"parts": [
													"wycats"
												],
												"original": "wycats",
												"loc": {
													"start": {
														"line": 1,
														"column": 30
													},
													"end": {
														"line": 1,
														"column": 36
													}
												}
											},
											"params": [
												{
													"type": "PathExpression",
													"data": false,
													"depth": 0,
													"parts": [
														"name"
													],
													"original": "name",
													"loc": {
														"start": {
															"line": 1,
															"column": 37
														},
														"end": {
															"line": 1,
															"column": 41
														}
													}
												}
											],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											},
											"loc": {
												"start": {
													"line": 1,
													"column": 28
												},
												"end": {
													"line": 1,
													"column": 43
												}
											}
										}
									],
									"strip": {},
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 43
										}
									}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 13
									},
									"end": {
										"line": 1,
										"column": 52
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 13
							},
							"end": {
								"line": 1,
								"column": 52
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 61
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"bat"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"bat"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 11
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"with"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 61
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								"field"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"field"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 21
								},
								"end": {
									"line": 1,
									"column": 26
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "invokeKnownHelper",
							"args": [
								1,
								"with"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 13
								},
								"end": {
									"line": 1,
									"column": 52
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "pushId",
									"args": [
										"PathExpression",
										"name"
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 43
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 37
										},
										"end": {
											"line": 1,
											"column": 41
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"name"
										],
										null,
										null,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 37
										},
										"end": {
											"line": 1,
											"column": 41
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 43
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 43
										}
									}
								},
								{
									"opcode": "emptyHash",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 43
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 30
										},
										"end": {
											"line": 1,
											"column": 36
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"wycats"
										],
										true,
										true,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 30
										},
										"end": {
											"line": 1,
											"column": 36
										}
									}
								},
								{
									"opcode": "invokeHelper",
									"args": [
										1,
										"wycats",
										true
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 43
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 28
										},
										"end": {
											"line": 1,
											"column": 43
										}
									}
								}
							],
							"children": [],
							"options": {
								"trackIds": true,
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"trackIds": true,
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"guid": 1,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#blockHelperMissing",
		"it": "should track contextPath for arrays",
		"template": "{{#field}}{{wycats name}}{{/field}}",
		"data": {
			"field": [
				{
					"name": "foo"
				}
			]
		},
		"expected": "foo:field.0\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"field"
						],
						"original": "field",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 12
										},
										"end": {
											"line": 1,
											"column": 18
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"name"
										],
										"original": "name",
										"loc": {
											"start": {
												"line": 1,
												"column": 19
											},
											"end": {
												"line": 1,
												"column": 23
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 25
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 10
							},
							"end": {
								"line": 1,
								"column": 25
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 35
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"field"
						],
						null,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"field",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								"name"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						}
					],
					"children": [],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#blockHelperMissing",
		"it": "should track contextPath for keys",
		"template": "{{#field}}{{wycats name}}{{/field}}",
		"data": {
			"field": {
				"name": "foo"
			}
		},
		"expected": "foo:field\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"field"
						],
						"original": "field",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 12
										},
										"end": {
											"line": 1,
											"column": 18
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"name"
										],
										"original": "name",
										"loc": {
											"start": {
												"line": 1,
												"column": 19
											},
											"end": {
												"line": 1,
												"column": 23
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 10
									},
									"end": {
										"line": 1,
										"column": 25
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 10
							},
							"end": {
								"line": 1,
								"column": 25
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 35
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"field"
						],
						null,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"field",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 35
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								"name"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 19
								},
								"end": {
									"line": 1,
									"column": 23
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 12
								},
								"end": {
									"line": 1,
									"column": 18
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 10
								},
								"end": {
									"line": 1,
									"column": 25
								}
							}
						}
					],
					"children": [],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "#blockHelperMissing",
		"it": "should handle nesting",
		"template": "{{#bat}}{{#field}}{{wycats name}}{{/field}}{{/bat}}",
		"data": {
			"bat": {
				"field": {
					"name": "foo"
				}
			}
		},
		"expected": "foo:bat.field\n",
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"bat"
						],
						"original": "bat",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 6
							}
						}
					},
					"params": [],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "BlockStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"field"
									],
									"original": "field",
									"loc": {
										"start": {
											"line": 1,
											"column": 11
										},
										"end": {
											"line": 1,
											"column": 16
										}
									}
								},
								"params": [],
								"program": {
									"type": "Program",
									"body": [
										{
											"type": "MustacheStatement",
											"path": {
												"type": "PathExpression",
												"data": false,
												"depth": 0,
												"parts": [
													"wycats"
												],
												"original": "wycats",
												"loc": {
													"start": {
														"line": 1,
														"column": 20
													},
													"end": {
														"line": 1,
														"column": 26
													}
												}
											},
											"params": [
												{
													"type": "PathExpression",
													"data": false,
													"depth": 0,
													"parts": [
														"name"
													],
													"original": "name",
													"loc": {
														"start": {
															"line": 1,
															"column": 27
														},
														"end": {
															"line": 1,
															"column": 31
														}
													}
												}
											],
											"escaped": true,
											"strip": {
												"open": false,
												"close": false
											},
											"loc": {
												"start": {
													"line": 1,
													"column": 18
												},
												"end": {
													"line": 1,
													"column": 33
												}
											}
										}
									],
									"strip": {},
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 33
										}
									}
								},
								"openStrip": {
									"open": false,
									"close": false
								},
								"closeStrip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 8
									},
									"end": {
										"line": 1,
										"column": 43
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 8
							},
							"end": {
								"line": 1,
								"column": 43
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 51
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 6
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"bat"
						],
						null,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 3
						},
						"end": {
							"line": 1,
							"column": 6
						}
					}
				},
				{
					"opcode": "invokeAmbiguous",
					"args": [
						"bat",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "ambiguousBlockValue",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 51
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 16
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"field"
								],
								null,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 11
								},
								"end": {
									"line": 1,
									"column": 16
								}
							}
						},
						{
							"opcode": "invokeAmbiguous",
							"args": [
								"field",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "ambiguousBlockValue",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						},
						{
							"opcode": "append",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 43
								}
							}
						}
					],
					"children": [
						{
							"sourceNode": [],
							"opcodes": [
								{
									"opcode": "pushId",
									"args": [
										"PathExpression",
										"name"
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 33
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 27
										},
										"end": {
											"line": 1,
											"column": 31
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"name"
										],
										null,
										null,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 27
										},
										"end": {
											"line": 1,
											"column": 31
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 33
										}
									}
								},
								{
									"opcode": "pushProgram",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 33
										}
									}
								},
								{
									"opcode": "emptyHash",
									"args": [
										null
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 33
										}
									}
								},
								{
									"opcode": "getContext",
									"args": [
										0
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 20
										},
										"end": {
											"line": 1,
											"column": 26
										}
									}
								},
								{
									"opcode": "lookupOnContext",
									"args": [
										[
											"wycats"
										],
										true,
										true,
										false
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 20
										},
										"end": {
											"line": 1,
											"column": 26
										}
									}
								},
								{
									"opcode": "invokeHelper",
									"args": [
										1,
										"wycats",
										true
									],
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 33
										}
									}
								},
								{
									"opcode": "appendEscaped",
									"args": [],
									"loc": {
										"start": {
											"line": 1,
											"column": 18
										},
										"end": {
											"line": 1,
											"column": 33
										}
									}
								}
							],
							"children": [],
							"options": {
								"trackIds": true,
								"data": true,
								"blockParams": [],
								"knownHelpers": {
									"helperMissing": true,
									"blockHelperMissing": true,
									"each": true,
									"if": true,
									"unless": true,
									"with": true,
									"log": true,
									"lookup": true
								}
							},
							"trackIds": true,
							"isSimple": true,
							"blockParams": 0
						}
					],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"guid": 1,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "partials",
		"it": "should pass track id for basic partial",
		"template": "{{wycats name}}",
		"data": {
			"name": "Alan",
			"url": "http://alan"
		},
		"expected": "Dudes: Yehuda:dudes.0\nAlan:dudes.1\n",
		"options": {
			"data": {
				"root": {
					"dudes": [
						{
							"name": "Yehuda",
							"url": "http://yehuda"
						},
						{
							"name": "Alan",
							"url": "http://alan"
						}
					]
				},
				"_parent": {
					"root": {
						"dudes": [
							{
								"name": "Yehuda",
								"url": "http://yehuda"
							},
							{
								"name": "Alan",
								"url": "http://alan"
							}
						]
					}
				},
				"key": 1,
				"index": 1,
				"first": false,
				"last": true,
				"contextPath": "dudes.1"
			}
		},
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  }",
				"phpstub": "function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  }"
			},
			"each": {
				"!code": true,
				"javascript": "function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      // Don't iterate over undefined values since we can't execute blocks against them\n      // in non-strict (js) mode.\n      if (context[field] == null) {\n        return;\n      }\n\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        var priorKey = undefined;\n\n        for (var key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  }",
				"phpstub": "function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      // Don't iterate over undefined values since we can't execute blocks against them\n      // in non-strict (js) mode.\n      if (context[field] == null) {\n        return;\n      }\n\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        var priorKey = undefined;\n\n        for (var key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  }",
				"phpstub": "function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  }"
			},
			"if": {
				"!code": true,
				"javascript": "function (conditional, options) {\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  }",
				"phpstub": "function (conditional, options) {\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  }"
			},
			"unless": {
				"!code": true,
				"javascript": "function (conditional, options) {\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  }",
				"phpstub": "function (conditional, options) {\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  }"
			},
			"log": {
				"!code": true,
				"javascript": "function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  }",
				"phpstub": "function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  }"
			},
			"lookup": {
				"!code": true,
				"javascript": "function (obj, field) {\n    return obj && obj[field];\n  }",
				"phpstub": "function (obj, field) {\n    return obj && obj[field];\n  }"
			},
			"with": {
				"!code": true,
				"javascript": "function (context, options) {\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  }",
				"phpstub": "function (context, options) {\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  }"
			},
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"decorators": {
			"inline": {
				"!code": true,
				"javascript": "function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  }",
				"phpstub": "function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"name"
							],
							"original": "name",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 15
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"name"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"name"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				}
			],
			"children": [],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "partials",
		"it": "should pass track id for context partial",
		"template": "{{#each this}}{{wycats name}}{{/each}}",
		"data": [
			{
				"name": "Yehuda",
				"url": "http://yehuda"
			},
			{
				"name": "Alan",
				"url": "http://alan"
			}
		],
		"expected": "Dudes: Yehuda:dudes..0\nAlan:dudes..1\n",
		"options": {
			"data": {
				"root": {
					"dudes": [
						{
							"name": "Yehuda",
							"url": "http://yehuda"
						},
						{
							"name": "Alan",
							"url": "http://alan"
						}
					]
				},
				"contextPath": "dudes"
			}
		},
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  }",
				"phpstub": "function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  }"
			},
			"each": {
				"!code": true,
				"javascript": "function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      // Don't iterate over undefined values since we can't execute blocks against them\n      // in non-strict (js) mode.\n      if (context[field] == null) {\n        return;\n      }\n\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        var priorKey = undefined;\n\n        for (var key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  }",
				"phpstub": "function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      // Don't iterate over undefined values since we can't execute blocks against them\n      // in non-strict (js) mode.\n      if (context[field] == null) {\n        return;\n      }\n\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        var priorKey = undefined;\n\n        for (var key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  }",
				"phpstub": "function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  }"
			},
			"if": {
				"!code": true,
				"javascript": "function (conditional, options) {\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  }",
				"phpstub": "function (conditional, options) {\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  }"
			},
			"unless": {
				"!code": true,
				"javascript": "function (conditional, options) {\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  }",
				"phpstub": "function (conditional, options) {\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  }"
			},
			"log": {
				"!code": true,
				"javascript": "function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  }",
				"phpstub": "function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  }"
			},
			"lookup": {
				"!code": true,
				"javascript": "function (obj, field) {\n    return obj && obj[field];\n  }",
				"phpstub": "function (obj, field) {\n    return obj && obj[field];\n  }"
			},
			"with": {
				"!code": true,
				"javascript": "function (context, options) {\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  }",
				"phpstub": "function (context, options) {\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  }"
			},
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"decorators": {
			"inline": {
				"!code": true,
				"javascript": "function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  }",
				"phpstub": "function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "BlockStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"each"
						],
						"original": "each",
						"loc": {
							"start": {
								"line": 1,
								"column": 3
							},
							"end": {
								"line": 1,
								"column": 7
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [],
							"original": "this",
							"loc": {
								"start": {
									"line": 1,
									"column": 8
								},
								"end": {
									"line": 1,
									"column": 12
								}
							}
						}
					],
					"program": {
						"type": "Program",
						"body": [
							{
								"type": "MustacheStatement",
								"path": {
									"type": "PathExpression",
									"data": false,
									"depth": 0,
									"parts": [
										"wycats"
									],
									"original": "wycats",
									"loc": {
										"start": {
											"line": 1,
											"column": 16
										},
										"end": {
											"line": 1,
											"column": 22
										}
									}
								},
								"params": [
									{
										"type": "PathExpression",
										"data": false,
										"depth": 0,
										"parts": [
											"name"
										],
										"original": "name",
										"loc": {
											"start": {
												"line": 1,
												"column": 23
											},
											"end": {
												"line": 1,
												"column": 27
											}
										}
									}
								],
								"escaped": true,
								"strip": {
									"open": false,
									"close": false
								},
								"loc": {
									"start": {
										"line": 1,
										"column": 14
									},
									"end": {
										"line": 1,
										"column": 29
									}
								}
							}
						],
						"strip": {},
						"loc": {
							"start": {
								"line": 1,
								"column": 14
							},
							"end": {
								"line": 1,
								"column": 29
							}
						}
					},
					"openStrip": {
						"open": false,
						"close": false
					},
					"closeStrip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 38
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						""
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "pushContext",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 8
						},
						"end": {
							"line": 1,
							"column": 12
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "invokeKnownHelper",
					"args": [
						1,
						"each"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				},
				{
					"opcode": "append",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 38
						}
					}
				}
			],
			"children": [
				{
					"sourceNode": [],
					"opcodes": [
						{
							"opcode": "pushId",
							"args": [
								"PathExpression",
								"name"
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 23
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"name"
								],
								null,
								null,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 23
								},
								"end": {
									"line": 1,
									"column": 27
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "pushProgram",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "emptyHash",
							"args": [
								null
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "getContext",
							"args": [
								0
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 22
								}
							}
						},
						{
							"opcode": "lookupOnContext",
							"args": [
								[
									"wycats"
								],
								true,
								true,
								false
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 16
								},
								"end": {
									"line": 1,
									"column": 22
								}
							}
						},
						{
							"opcode": "invokeHelper",
							"args": [
								1,
								"wycats",
								true
							],
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						},
						{
							"opcode": "appendEscaped",
							"args": [],
							"loc": {
								"start": {
									"line": 1,
									"column": 14
								},
								"end": {
									"line": 1,
									"column": 29
								}
							}
						}
					],
					"children": [],
					"options": {
						"trackIds": true,
						"data": true,
						"blockParams": [],
						"knownHelpers": {
							"helperMissing": true,
							"blockHelperMissing": true,
							"each": true,
							"if": true,
							"unless": true,
							"with": true,
							"log": true,
							"lookup": true
						}
					},
					"trackIds": true,
					"isSimple": true,
					"blockParams": 0
				}
			],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"guid": 1,
			"isSimple": true,
			"blockParams": 0
		}
	},
	{
		"description": "partials",
		"it": "should invalidate context for partials with parameters",
		"template": "{{wycats name}}",
		"data": {
			"name": "Alan",
			"url": "http://alan",
			"bar": "foo"
		},
		"expected": "Dudes: Yehuda:true\nAlan:true\n",
		"options": {
			"data": {
				"root": {
					"dudes": [
						{
							"name": "Yehuda",
							"url": "http://yehuda"
						},
						{
							"name": "Alan",
							"url": "http://alan"
						}
					]
				},
				"_parent": {
					"root": {
						"dudes": [
							{
								"name": "Yehuda",
								"url": "http://yehuda"
							},
							{
								"name": "Alan",
								"url": "http://alan"
							}
						]
					}
				},
				"key": 1,
				"index": 1,
				"first": false,
				"last": true,
				"contextPath": true
			}
		},
		"compileOptions": {
			"trackIds": true,
			"data": true,
			"blockParams": [],
			"knownHelpers": {
				"helperMissing": true,
				"blockHelperMissing": true,
				"each": true,
				"if": true,
				"unless": true,
				"with": true,
				"log": true,
				"lookup": true
			}
		},
		"helpers": {
			"blockHelperMissing": {
				"!code": true,
				"javascript": "function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  }",
				"phpstub": "function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  }"
			},
			"each": {
				"!code": true,
				"javascript": "function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      // Don't iterate over undefined values since we can't execute blocks against them\n      // in non-strict (js) mode.\n      if (context[field] == null) {\n        return;\n      }\n\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        var priorKey = undefined;\n\n        for (var key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  }",
				"phpstub": "function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      // Don't iterate over undefined values since we can't execute blocks against them\n      // in non-strict (js) mode.\n      if (context[field] == null) {\n        return;\n      }\n\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        var priorKey = undefined;\n\n        for (var key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  }"
			},
			"helperMissing": {
				"!code": true,
				"javascript": "function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  }",
				"phpstub": "function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  }"
			},
			"if": {
				"!code": true,
				"javascript": "function (conditional, options) {\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  }",
				"phpstub": "function (conditional, options) {\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  }"
			},
			"unless": {
				"!code": true,
				"javascript": "function (conditional, options) {\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  }",
				"phpstub": "function (conditional, options) {\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  }"
			},
			"log": {
				"!code": true,
				"javascript": "function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  }",
				"phpstub": "function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  }"
			},
			"lookup": {
				"!code": true,
				"javascript": "function (obj, field) {\n    return obj && obj[field];\n  }",
				"phpstub": "function (obj, field) {\n    return obj && obj[field];\n  }"
			},
			"with": {
				"!code": true,
				"javascript": "function (context, options) {\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  }",
				"phpstub": "function (context, options) {\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  }"
			},
			"blockParams": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.ids[0] + '\\n';\n      }"
			},
			"wycats": {
				"!code": true,
				"javascript": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }",
				"phpstub": "function (name, options) {\n        return name + ':' + options.data.contextPath + '\\n';\n      }"
			}
		},
		"decorators": {
			"inline": {
				"!code": true,
				"javascript": "function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  }",
				"phpstub": "function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  }"
			}
		},
		"ast": {
			"type": "Program",
			"body": [
				{
					"type": "MustacheStatement",
					"path": {
						"type": "PathExpression",
						"data": false,
						"depth": 0,
						"parts": [
							"wycats"
						],
						"original": "wycats",
						"loc": {
							"start": {
								"line": 1,
								"column": 2
							},
							"end": {
								"line": 1,
								"column": 8
							}
						}
					},
					"params": [
						{
							"type": "PathExpression",
							"data": false,
							"depth": 0,
							"parts": [
								"name"
							],
							"original": "name",
							"loc": {
								"start": {
									"line": 1,
									"column": 9
								},
								"end": {
									"line": 1,
									"column": 13
								}
							}
						}
					],
					"escaped": true,
					"strip": {
						"open": false,
						"close": false
					},
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				}
			],
			"strip": {},
			"loc": {
				"start": {
					"line": 1,
					"column": 0
				},
				"end": {
					"line": 1,
					"column": 15
				}
			}
		},
		"opcodes": {
			"sourceNode": [],
			"opcodes": [
				{
					"opcode": "pushId",
					"args": [
						"PathExpression",
						"name"
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"name"
						],
						null,
						null,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 9
						},
						"end": {
							"line": 1,
							"column": 13
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "pushProgram",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "emptyHash",
					"args": [
						null
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "getContext",
					"args": [
						0
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "lookupOnContext",
					"args": [
						[
							"wycats"
						],
						true,
						true,
						false
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 2
						},
						"end": {
							"line": 1,
							"column": 8
						}
					}
				},
				{
					"opcode": "invokeHelper",
					"args": [
						1,
						"wycats",
						true
					],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				},
				{
					"opcode": "appendEscaped",
					"args": [],
					"loc": {
						"start": {
							"line": 1,
							"column": 0
						},
						"end": {
							"line": 1,
							"column": 15
						}
					}
				}
			],
			"children": [],
			"options": {
				"trackIds": true,
				"data": true,
				"blockParams": [],
				"knownHelpers": {
					"helperMissing": true,
					"blockHelperMissing": true,
					"each": true,
					"if": true,
					"unless": true,
					"with": true,
					"log": true,
					"lookup": true
				}
			},
			"trackIds": true,
			"isSimple": true,
			"blockParams": 0
		}
	}
]